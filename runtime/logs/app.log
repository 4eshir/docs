2022-07-07 10:47:56 [127.0.0.1][1][impn893auhd47utgdbb4o3spcfmbgc5v][error][yii\db\IntegrityException] PDOException: SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`u0457336_index_new`.`training_group_participant`, CONSTRAINT `training_group_participant_ibfk_4` FOREIGN KEY (`group_project_themes_id`) REFERENCES `group_project_themes` (`id`)) in C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Command.php:1302
Stack trace:
#0 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Command.php(1302): PDOStatement->execute()
#1 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Command.php(1102): yii\db\Command->internalExecute('DELETE FROM `gr...')
#2 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(405): yii\db\Command->execute()
#3 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(765): yii\db\ActiveRecord::deleteAll(Array)
#4 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(724): yii\db\ActiveRecord->deleteInternal()
#5 C:\OpenServer\domains\localhost\docs\controllers\JournalController.php(143): yii\db\ActiveRecord->delete()
#6 [internal function]: app\controllers\JournalController->actionDeleteTheme('2', '17')
#7 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\InlineAction.php(57): call_user_func_array(Array, Array)
#8 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Controller.php(178): yii\base\InlineAction->runWithParams(Array)
#9 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Module.php(552): yii\base\Controller->runAction('delete-theme', Array)
#10 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\web\Application.php(103): yii\base\Module->runAction('journal/delete-...', Array)
#11 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Application.php(384): yii\web\Application->handleRequest(Object(yii\web\Request))
#12 C:\OpenServer\domains\localhost\docs\web\index.php(13): yii\base\Application->run()
#13 {main}

Next yii\db\IntegrityException: SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`u0457336_index_new`.`training_group_participant`, CONSTRAINT `training_group_participant_ibfk_4` FOREIGN KEY (`group_project_themes_id`) REFERENCES `group_project_themes` (`id`))
The SQL being executed was: DELETE FROM `group_project_themes` WHERE `id`=2 in C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Schema.php:676
Stack trace:
#0 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Command.php(1307): yii\db\Schema->convertException(Object(PDOException), 'DELETE FROM `gr...')
#1 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\Command.php(1102): yii\db\Command->internalExecute('DELETE FROM `gr...')
#2 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(405): yii\db\Command->execute()
#3 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(765): yii\db\ActiveRecord::deleteAll(Array)
#4 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\db\ActiveRecord.php(724): yii\db\ActiveRecord->deleteInternal()
#5 C:\OpenServer\domains\localhost\docs\controllers\JournalController.php(143): yii\db\ActiveRecord->delete()
#6 [internal function]: app\controllers\JournalController->actionDeleteTheme('2', '17')
#7 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\InlineAction.php(57): call_user_func_array(Array, Array)
#8 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Controller.php(178): yii\base\InlineAction->runWithParams(Array)
#9 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Module.php(552): yii\base\Controller->runAction('delete-theme', Array)
#10 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\web\Application.php(103): yii\base\Module->runAction('journal/delete-...', Array)
#11 C:\OpenServer\domains\localhost\docs\vendor\yiisoft\yii2\base\Application.php(384): yii\web\Application->handleRequest(Object(yii\web\Request))
#12 C:\OpenServer\domains\localhost\docs\web\index.php(13): yii\base\Application->run()
#13 {main}
Additional Information:
Array
(
    [0] => 23000
    [1] => 1451
    [2] => Cannot delete or update a parent row: a foreign key constraint fails (`u0457336_index_new`.`training_group_participant`, CONSTRAINT `training_group_participant_ibfk_4` FOREIGN KEY (`group_project_themes_id`) REFERENCES `group_project_themes` (`id`))
)

2022-07-07 10:47:56 [127.0.0.1][1][impn893auhd47utgdbb4o3spcfmbgc5v][info][application] $_GET = [
    'r' => 'journal/delete-theme'
    'id' => '2'
    'modelId' => '17'
]

$_POST = []

$_FILES = []

$_COOKIE = [
    '_identity' => '04bdd8198866bcab9f7fcb73ecfaae7e95b017a33f4f656615ae17253aa7a3bba:2:{i:0;s:9:\"_identity\";i:1;s:45:\"[1,\"PATsN8FUOCjpbl5zd80jBQgl8H94QJEf\",362400]\";}'
    'PHPSESSID' => 'impn893auhd47utgdbb4o3spcfmbgc5v'
    '_csrf' => '9a081ff65402be44166872f5fdefd9c76d4110e1e36117ffc54fbaf9e49b43d9a:2:{i:0;s:5:\"_csrf\";i:1;s:32:\"dqSo_KL6ryKp75c2j3BvpJgzSfjds08w\";}'
]

$_SESSION = [
    '__flash' => []
    '__id' => 1
    '__authKey' => 'PATsN8FUOCjpbl5zd80jBQgl8H94QJEf'
]

$_SERVER = [
    'HTTP_HOST' => 'docs'
    'HTTP_CONNECTION' => 'keep-alive'
    'HTTP_UPGRADE_INSECURE_REQUESTS' => '1'
    'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36'
    'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'
    'HTTP_REFERER' => 'http://docs/index.php?r=journal%2Findex-edit&group_id=17'
    'HTTP_ACCEPT_ENCODING' => 'gzip, deflate'
    'HTTP_ACCEPT_LANGUAGE' => 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'
    'HTTP_COOKIE' => '_identity=04bdd8198866bcab9f7fcb73ecfaae7e95b017a33f4f656615ae17253aa7a3bba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A45%3A%22%5B1%2C%22PATsN8FUOCjpbl5zd80jBQgl8H94QJEf%22%2C362400%5D%22%3B%7D; PHPSESSID=impn893auhd47utgdbb4o3spcfmbgc5v; _csrf=9a081ff65402be44166872f5fdefd9c76d4110e1e36117ffc54fbaf9e49b43d9a%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%22dqSo_KL6ryKp75c2j3BvpJgzSfjds08w%22%3B%7D'
    'PATH' => 'c:\\openserver\\modules\\php\\PHP_7.2\\ext;c:\\openserver\\modules\\php\\PHP_7.2\\pear;c:\\openserver\\modules\\php\\PHP_7.2\\pear\\bin;c:\\openserver\\modules\\php\\PHP_7.2;c:\\openserver\\modules\\wget\\bin;c:\\openserver\\modules\\database\\MariaDB-10.3\\bin;c:\\openserver\\modules\\http\\Apache_2.4-PHP_7.0-7.1\\bin;c:\\openserver\\modules\\http\\Apache_2.4-PHP_7.0-7.1;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32\\Wbem;C:\\Windows\\SysWOW64'
    'SystemRoot' => 'C:\\Windows'
    'COMSPEC' => 'C:\\Windows\\system32\\cmd.exe'
    'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC'
    'WINDIR' => 'C:\\Windows'
    'SERVER_SIGNATURE' => ''
    'SERVER_SOFTWARE' => 'Apache'
    'SERVER_NAME' => 'docs'
    'SERVER_ADDR' => '127.0.0.1'
    'SERVER_PORT' => '80'
    'REMOTE_ADDR' => '127.0.0.1'
    'DOCUMENT_ROOT' => 'C:/OpenServer/domains/localhost/docs/web'
    'REQUEST_SCHEME' => 'http'
    'CONTEXT_PREFIX' => ''
    'CONTEXT_DOCUMENT_ROOT' => 'C:/OpenServer/domains/localhost/docs/web'
    'SERVER_ADMIN' => '[no address given]'
    'SCRIPT_FILENAME' => 'C:/OpenServer/domains/localhost/docs/web/index.php'
    'REMOTE_PORT' => '64267'
    'GATEWAY_INTERFACE' => 'CGI/1.1'
    'SERVER_PROTOCOL' => 'HTTP/1.1'
    'REQUEST_METHOD' => 'GET'
    'QUERY_STRING' => 'r=journal%2Fdelete-theme&id=2&modelId=17'
    'REQUEST_URI' => '/index.php?r=journal%2Fdelete-theme&id=2&modelId=17'
    'SCRIPT_NAME' => '/index.php'
    'PHP_SELF' => '/index.php'
    'REQUEST_TIME_FLOAT' => 1657180076.335
    'REQUEST_TIME' => 1657180076
    'argv' => [
        0 => 'r=journal%2Fdelete-theme&id=2&modelId=17'
    ]
    'argc' => 1
]
